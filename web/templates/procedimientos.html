{% extends "layouts/header-main.html" %} {% block content %}
<div class="general-dashboard">
  <div class="div-user-name">
    <section class="user-name">
      <p>{{ jerarquia }} {{ nombres }} {{ apellidos }} / {{ user.user }}</p>
      <svg
        width="30px"
        height="30px"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g
          id="SVGRepo_tracerCarrier"
          stroke-linecap="round"
          stroke-linejoin="round"
        ></g>
        <g id="SVGRepo_iconCarrier">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M12.0001 1.25C9.37678 1.25 7.25013 3.37665 7.25013 6C7.25013 8.62335 9.37678 10.75 12.0001 10.75C14.6235 10.75 16.7501 8.62335 16.7501 6C16.7501 3.37665 14.6235 1.25 12.0001 1.25ZM8.75013 6C8.75013 4.20507 10.2052 2.75 12.0001 2.75C13.7951 2.75 15.2501 4.20507 15.2501 6C15.2501 7.79493 13.7951 9.25 12.0001 9.25C10.2052 9.25 8.75013 7.79493 8.75013 6Z"
            fill="#000000"
          ></path>
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M12.0001 12.25C9.68658 12.25 7.55506 12.7759 5.97558 13.6643C4.41962 14.5396 3.25013 15.8661 3.25013 17.5L3.25007 17.602C3.24894 18.7638 3.24752 20.222 4.52655 21.2635C5.15602 21.7761 6.03661 22.1406 7.22634 22.3815C8.4194 22.6229 9.97436 22.75 12.0001 22.75C14.0259 22.75 15.5809 22.6229 16.7739 22.3815C17.9637 22.1406 18.8443 21.7761 19.4737 21.2635C20.7527 20.222 20.7513 18.7638 20.7502 17.602L20.7501 17.5C20.7501 15.8661 19.5807 14.5396 18.0247 13.6643C16.4452 12.7759 14.3137 12.25 12.0001 12.25ZM4.75013 17.5C4.75013 16.6487 5.37151 15.7251 6.71098 14.9717C8.02693 14.2315 9.89541 13.75 12.0001 13.75C14.1049 13.75 15.9733 14.2315 17.2893 14.9717C18.6288 15.7251 19.2501 16.6487 19.2501 17.5C19.2501 18.8078 19.2098 19.544 18.5265 20.1004C18.156 20.4022 17.5366 20.6967 16.4763 20.9113C15.4194 21.1252 13.9744 21.25 12.0001 21.25C10.0259 21.25 8.58087 21.1252 7.52393 20.9113C6.46366 20.6967 5.84425 20.4022 5.47372 20.1004C4.79045 19.544 4.75013 18.8078 4.75013 17.5Z"
            fill="#000000"
          ></path>
        </g>
      </svg>
    </section>
  </div>
  <section class="procedures_record">
    <h2 class="title_procedures_record">Registrar de Procedimientos</h2>
  </section>
  <section class="data_form">
    <form action="" method="post">
      {% csrf_token %}
      <div class="form-style">{{ form }}</div>
      <div class="line"></div>
      <h4>Datos de la Operacion</h4>
      <div class="form-style">{{ form2 }}</div>
      <div class="line"></div>
      <h4>Datos de la Ubicacion</h4>
      <div class="form-style">{{ form3 }}</div>
      <div class="line"></div>
      <h4>Tipo de Procedimientos</h4>
      <div class="form-style">{{ form4 }}</div>

      <!-- Detalles de Procedimiento (Abastecimiento de Agua) -->
      <div class="data_form" id="abast_agua" style="display: none">
        <div class="line"></div>
        <h4>Abastecimiento de Agua</h4>
        <div class="form-style">{{ form_abastecimiento_agua }}</div>
      </div>

      <!-- Detalles de Procedimiento (Apoyo a Otras Unidades) -->
      <div class="data_form" id="apoyo_unid" style="display: none">
        <div class="line"></div>
        <h4>Apoyo a Otras Unidades</h4>
        <div class="form-style">{{ form_apoyo_unidades }}</div>
      </div>

      <!-- Detalles de Procedimiento (Guardia de Prevencion) -->
      <div class="data_form" id="guard_prev" style="display: none">
        <div class="line"></div>
        <h4>Guardia de Prevencion</h4>
        <div class="form-style">{{ form_guardia_prevencion }}</div>
      </div>

      <!-- Detalles de Procedimiento (Atendido No Efectuado) -->
      <div class="data_form" id="atend_no_efect" style="display: none">
        <div class="line"></div>
        <h4>Atendido No Efectuado</h4>
        <div class="form-style">{{ form_atendido_no_efectuado }}</div>
      </div>

      <!-- Detalles de Procedimiento (Despliegue de seguridad) -->
      <div class="data_form" id="desp_seguridad" style="display: none">
        <div class="line"></div>
        <h4>Despliegue de Seguridad</h4>
        <div class="form-style">{{ form_despliegue_seguridad }}</div>
      </div>

      <!-- Detalles de Procedimiento (Falsa Alarma) -->
      <div class="data_form" id="falsa_alarm" style="display: none">
        <div class="line"></div>
        <h4>Falsa Alarma</h4>
        <div class="form-style">{{ form_falsa_alarma }}</div>
      </div>

      <!-- Detalles de Procedimiento (Servicios_especiales) -->
      <div class="data_form" id="serv_especiales" style="display: none">
        <div class="line"></div>
        <h4>Servicios Especiales</h4>
        <div class="form-style">{{ form_servicios_especiales }}</div>
      </div>

      <!-- Detalles de Procedimiento (Fallecidos) -->
      <div class="data_form" id="fallecidos" style="display: none">
        <div class="line"></div>
        <h4>Fallecidos</h4>
        <div class="form-style">{{ form_fallecido }}</div>
      </div>

      <!-- Detalles de Procedimiento (Rescate) -->
      <div class="data_form" id="rescate" style="display: none">
        <div class="line"></div>
        <h4>Rescate</h4>
        <div class="form-style">{{ rescate_form }}</div>
      </div>

      <!-- Detalles de Procedimiento (Rescate Animal) -->
      <div class="data_form" id="rescate_animal" style="display: none">
        <div class="line"></div>
        <h4>Rescate Animal</h4>
        <div class="form-style">{{ rescate_form_animal }}</div>
      </div>

      <!-- Detalles de Procedimiento (Rescate Persona) -->
      <div class="data_form" id="rescate_persona" style="display: none">
        <div class="line"></div>
        <h4>Rescate Persona</h4>
        <div class="form-style">{{ rescate_form_persona }}</div>
      </div>

      <!-- Detalles de Procedimiento (Incendio) -->
      <div class="data_form" id="incendio_form" style="display: none">
        <div class="line"></div>
        <h4>Incendio</h4>
        <div class="form-style checkbox-styles">
          {{ incendio_form }}
          <!-- Detalles de Procedimiento (persona Presente) -->
          <div id="persona_presente">
            <h4>Datos Persona Presente</h4>
            {{ persona_presente_form }}
          </div>

          <!-- Detalles de Procedimiento (Detalles Vehiculos) -->
          <div id="detalles_vehiculo">
            <h4>Datos de Vehiculo</h4>
            {{ detalles_vehiculo_form }}
          </div>
        </div>
      </div>

      <!-- Detalles de Procedimiento (Atenciones Paramedicas) -->
      <div class="data_form" id="atenciones_paramedicas" style="display: none">
        <div class="line"></div>
        <h4 class="mod-title-width">Atenciones Paramedicas</h4>
        <div class="form-style checkbox-styles">
          {{ atenciones_paramedicas }}
        </div>
      </div>

      <!-- Detalles de Procedimiento (Emergencias Medicas) -->
      <div class="data_form" id="emergencias_medicas" style="display: none">
        <div class="line"></div>
        <h4>Emergencias Medicas</h4>
        <div class="form-style checkbox-styles">
          {{ emergencias_medicas }}
          <!-- Detalles de Procedimiento (Detalles Traslado) -->
          <div id="traslados_emergencias">
            <h4>Datos del Traslado</h4>
            {{ traslados_emergencias }}
          </div>
        </div>
      </div>

      <!-- Detalles de Procedimiento (Accidentes de Transito) -->
      <div class="data_form" id="accidentes_transito" style="display: none">
        <div class="line"></div>
        <h4>Accidentes de Transito</h4>
        <div class="form-style checkbox-styles">
          {{ formulario_accidentes_transito }}
          <!-- Detalles de Procedimiento (Detalles Vehiculo) -->
          <div id="vehiculo_accidente">
            <h4>Datos del Vehiculo</h4>
            {{ detalles_vehiculo_accidentes }}
          </div>
          <!-- Detalles de Procedimiento (Detalles Vehiculo) -->
          <div id="otro_vehiculo_accidente">
            <h4>Otro Vehiculo</h4>
            {{ detalles_vehiculo_accidentes2 }}
          </div>
          <!-- Detalles de Procedimiento (Detalles Vehiculo) -->
          <div id="otro_vehiculo_accidente2">
            <h4>Ultimo Vehiculo</h4>
            {{ detalles_vehiculo_accidentes3 }}
          </div>
          <!-- Detalles de Procedimiento (Detalles Lesionado) -->
          <div id="lesionado_accidente">
            <h4>Datos del Lesionado</h4>
            {{ detalles_lesionados_accidentes }}
          </div>
          <!-- Detalles de Procedimiento (Detalles Traslado) -->
          <div id="traslado_accidente">
            <h4>Datos del Traslado</h4>
            {{ traslados_accidentes }}
          </div>
        </div>
      </div>

      <!-- Detalles de Procedimiento (Evaluacion de Riesgo) -->
      <div class="data_form" id="evaluacion_riesgo" style="display: none">
        <div class="line"></div>
        <h4>Evaluacion de Riesgo</h4>
        <div class="form-style">{{ evaluacion_riesgo_form }}
          <div id="form_persona_presente" style="display: none;">
            <h4>Persona Presente</h4>
            {{ persona_presente_eval_form }}</div>
        </div>
      </div>

      <!-- Detalles de Procedimiento (Mitigacion de Riesgo) -->
      <div class="data_form" id="mitigacion_riesgo" style="display: none">
        <div class="line"></div>
        <h4>Mitigacion de Riesgo</h4>
        <div class="form-style">{{ mitigacion_riesgo_form }}</div>
      </div>

      <!-- Detalles de Procedimiento (Mitigacion de Riesgo) -->
      <div class="data_form" id="puesto_avanzada" style="display: none">
        <div class="line"></div>
        <h4>Puesto de Avanzada</h4>
        <div class="form-style">{{ puesto_avanzada_form }}</div>
      </div>

      <!-- Detalles de Procedimiento (Mitigacion de Riesgo) -->
      <div class="data_form" id="traslados_prehospitalaria" style="display: none">
        <div class="line"></div>
        <h4>Traslados</h4>
        <div class="form-style">{{ traslados_prehospitalaria_form }}</div>
      </div>
      
      <!-- Detalles de Procedimiento (Asesoramiento) -->
      <div class="data_form" id="asesoramiento_form" style="display: none">
        <div class="line"></div>
        <h4>Asesoramiento</h4>
        <div class="form-style">{{ asesoramiento_form }}</div>
      </div>

      <!-- Detalles de Procedimiento (Reinspeccion de Prevencion) -->
      <div class="data_form" id="reinspeccion_prevencion" style="display: none">
        <div class="line"></div>
        <h4>Reinspeccion de Prevencion</h4>
        <div class="form-style">{{ reinspeccion_prevencion }}</div>
      </div>

      <!-- Detalles de Procedimiento (Retencion Preventiva) -->
      <div class="data_form" id="retencion_preventiva" style="display: none">
        <div class="line"></div>
        <h4>Retencion Preventiva</h4>
        <div class="form-style">{{ retencion_preventiva }}</div>
      </div>

      <!-- Boton Enviar -->
      <button type="submit" id="button_submit" style="display: none">
        Aceptar
      </button>
    </form>
    <div class="line"></div>
  </section>
</div>
<!-- Modal de error -->
<div
  class="modal fade"
  id="staticBackdrop"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  tabindex="-1"
  aria-labelledby="staticBackdropLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title fs-5" id="staticBackdropLabel">Advertencia</h2>
      </div>
      <div class="modal-body">
        <svg
          width="120px"
          height="120px"
          viewBox="0 0 36 36"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          aria-hidden="true"
          role="img"
          class="iconify iconify--twemoji"
          preserveAspectRatio="xMidYMid meet"
          fill="#000000"
        >
          <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
          <g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"
          ></g>
          <g id="SVGRepo_iconCarrier">
            <path
              fill="#FFCC4D"
              d="M2.653 35C.811 35-.001 33.662.847 32.027L16.456 1.972c.849-1.635 2.238-1.635 3.087 0l15.609 30.056c.85 1.634.037 2.972-1.805 2.972H2.653z"
            ></path>
            <path
              fill="#231F20"
              d="M15.583 28.953a2.421 2.421 0 0 1 2.419-2.418a2.421 2.421 0 0 1 2.418 2.418a2.422 2.422 0 0 1-2.418 2.419a2.422 2.422 0 0 1-2.419-2.419zm.186-18.293c0-1.302.961-2.108 2.232-2.108c1.241 0 2.233.837 2.233 2.108v11.938c0 1.271-.992 2.108-2.233 2.108c-1.271 0-2.232-.807-2.232-2.108V10.66z"
            ></path>
          </g>
        </svg>
        <h3>Datos incorrectos, verifique todos los campos.</h3>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Cerrar
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Script para cambiar el menu desplegable de tipo de procedimiento segun la division -->
<script>
  // Define las opciones por categoría
  const opcionesPorCategoria = {
    "": [
      { value: "-", text: "Elige Una Division Burra"}
    ],
    "1": [
      { value: "2", text: "Apoyo a Otras Unidades" },
      { value: "3", text: "Guardia de Prevención" },
      { value: "6", text: "Falsa Alarma" },
      { value: "7", text: "Atenciones Paramedicas" },
      { value: "9", text: "Servicios Especiales" },
      { value: "10", text: "Rescate" },
      { value: "11", text: "Incendios" },
      { value: "13", text: "Mitigación de Riesgos" },
      { value: "14", text: "Evaluación de Riesgos" },
      { value: "15", text: "Puesto de Avanzada" },
    ],
    "2": [
      { value: "1", text: "Abastecimiento de agua" },
      { value: "2", text: "Apoyo a Otras Unidades" },
      { value: "3", text: "Guardia de Prevención" },
      { value: "4", text: "Atendido No Efectuado" },
      { value: "5", text: "Despliegue de Seguridad" },
      { value: "6", text: "Falsa Alarma" },
      { value: "7", text: "Atenciones Paramedicas" },
      { value: "9", text: "Servicios Especiales" },
      { value: "10", text: "Rescate" },
      { value: "11", text: "Incendios" },
      { value: "12", text: "Fallecidos" },
      { value: "13", text: "Mitigación de Riesgos" },
      { value: "14", text: "Evaluación de Riesgos" }
    ],
    "3": [
      { value: "14", text: "Evaluacion de Riesgos" },
      { value: "17", text: "Asesoramiento" },
      { value: "18", text: "Inspeccion" },
      { value: "19", text: "Investigacion" },
      { value: "20", text: "Reinspeccion de Prevencion" },
      { value: "21", text: "Retencion Preventiva" },
    ],
    "4": [
      { value: "1", text: "Abastecimiento de agua" },
      { value: "2", text: "Apoyo a Otras Unidades" },
      { value: "3", text: "Guardia de Prevención" },
      { value: "4", text: "Atendido No Efectuado" },
      { value: "6", text: "Falsa Alarma" },
      { value: "7", text: "Atenciones Paramedicas" },
      { value: "9", text: "Servicios Especiales" },
      { value: "10", text: "Rescate" },
      { value: "11", text: "Incendios" },
      { value: "12", text: "Fallecidos" },
      { value: "13", text: "Mitigación de Riesgos" },
      { value: "14", text: "Evaluación de Riesgos" },
      { value: "15", text: "Puesto de Avanzada" },
    ],
    "5": [
      { value: "3", text: "Guardia de Prevención" },
      { value: "4", text: "Atendido No Efectuado" },
      { value: "6", text: "Falsa Alarma" },
      { value: "7", text: "Atenciones Paramedicas" },
      { value: "9", text: "Servicios Especiales" },
      { value: "12", text: "Fallecidos" },
      { value: "15", text: "Puesto de Avanzada" },
      { value: "16", text: "Traslados" },
    ],
    
    "8": [
      { value: "00", text: "Terapia Psicológica" }
    ],
    // Puedes agregar más categorías según sea necesario
  };

  const selectOpciones = document.getElementById("id_form1-opciones");
  const selectTipoProcedimiento = document.getElementById("id_form4-tipo_procedimiento");

  // Función para actualizar las opciones del segundo select
  function actualizarOpciones() {
    const selectedValue = selectOpciones.value;

    // Limpia las opciones actuales del segundo select
    selectTipoProcedimiento.innerHTML = '';

    // Si hay opciones para la categoría seleccionada, agrégalas
    if (opcionesPorCategoria[selectedValue]) {
      // Agrega una opción predeterminada
      const defaultOption = document.createElement("option");
      defaultOption.value = "";
      defaultOption.textContent = "Seleccione una Opción";
      defaultOption.disabled = true;
      defaultOption.selected = true;
      selectTipoProcedimiento.appendChild(defaultOption);

      // Agrega las opciones correspondientes
      opcionesPorCategoria[selectedValue].forEach(optionData => {
        const optionElement = document.createElement("option");
        optionElement.value = optionData.value;
        optionElement.textContent = optionData.text;
        selectTipoProcedimiento.appendChild(optionElement);
      });
    }
  }

  actualizarOpciones()
  // Evento cuando cambia el primer select
  selectOpciones.addEventListener("change", actualizarOpciones);
</script>

<!-- Script para el manejo de formularios -->
<script>
  document
    .getElementById("id_form4-tipo_procedimiento")
    .addEventListener("change", function () {
      const elementsToHide = [
        "abast_agua",
        "apoyo_unid",
        "guard_prev",
        "atend_no_efect",
        "desp_seguridad",
        "falsa_alarm",
        "serv_especiales",
        "fallecidos",
        "rescate",
        "rescate_animal",
        "rescate_persona",
        "incendio_form",
        "persona_presente",
        "detalles_vehiculo",
        "atenciones_paramedicas",
        "emergencias_medicas",
        "traslados_emergencias",
        "accidentes_transito",
        "vehiculo_accidente",
        "otro_vehiculo_accidente",
        "otro_vehiculo_accidente2",
        "lesionado_accidente",
        "traslado_accidente",
        "evaluacion_riesgo",
        "mitigacion_riesgo",
        "puesto_avanzada",
        "traslados_prehospitalaria",
        "asesoramiento_form",
        "form_persona_presente",
        "reinspeccion_prevencion",
        "retencion_preventiva",
      ];

      const showElements = (elements) => {
        elementsToHide.forEach(
          (id) => (document.getElementById(id).style.display = "none")
        );
        elements.forEach(
          (id) => (document.getElementById(id).style.display = "block")
        );
      };

      switch (this.value) {
        case "1":
          showElements(["abast_agua"]);
          document.getElementById("button_submit").style.display = "block";
          break;
        case "2":
          showElements(["apoyo_unid"]);
          document.getElementById("button_submit").style.display = "block";
          break;
        case "3":
          showElements(["guard_prev"]);
          document.getElementById("button_submit").style.display = "block";
          break;
        case "4":
          showElements(["atend_no_efect"]);
          document.getElementById("button_submit").style.display = "block";
          break;
        case "5":
          showElements(["desp_seguridad"]);
          document.getElementById("button_submit").style.display = "block";
          break;
        case "6":
          showElements(["falsa_alarm"]);
          document.getElementById("button_submit").style.display = "block";
          break;
        case "7":
          showElements(["atenciones_paramedicas"]);
          document.getElementById("button_submit").style.display = "none";

          document
            .getElementById("id_atenciones_paramedicas-tipo_atencion")
            .addEventListener("change", function () {
              if (this.value === "Emergencias Medicas") {
                showElements(["atenciones_paramedicas", "emergencias_medicas"]);
                document.getElementById("button_submit").style.display = "block";

                document
                  .getElementById("id_emergencias_medicas-trasladado")
                  .addEventListener("change", function () {
                    document.getElementById(
                      "traslados_emergencias"
                    ).style.display = this.checked ? "block" : "none";
                  });
              } 
              else if (this.value === "Accidentes de Transito") {
                showElements(["atenciones_paramedicas", "accidentes_transito"]);

                document
                  .getElementById(
                    "id_formulario_accidentes_transito-agg_vehiculo"
                  )
                  .addEventListener("change", function () {
                    document.getElementById(
                      "vehiculo_accidente"
                    ).style.display = this.checked ? "block" : "none";
                    document.getElementById("button_submit").style.display = "block";

                    document
                      .getElementById(
                        "id_detalles_vehiculos_accidentes-agg_vehiculo"
                      )
                      .addEventListener("change", function () {
                        document.getElementById(
                          "otro_vehiculo_accidente"
                        ).style.display = this.checked ? "block" : "none";

                        document
                          .getElementById(
                            "id_detalles_vehiculos_accidentes2-agg_vehiculo"
                          )
                          .addEventListener("change", function () {
                            document.getElementById(
                              "otro_vehiculo_accidente2"
                            ).style.display = this.checked ? "block" : "none";
                          });
                      });
                  });

                document
                  .getElementById(
                    "id_formulario_accidentes_transito-agg_lesionado"
                  )
                  .addEventListener("change", function () {
                    document.getElementById(
                      "lesionado_accidente"
                    ).style.display = this.checked ? "block" : "none";

                    document
                      .getElementById(
                        "id_detalles_lesionados_accidentes-trasladado"
                      )
                      .addEventListener("change", function () {
                        document.getElementById(
                          "traslado_accidente"
                        ).style.display = this.checked ? "block" : "none";
                      });
                  });
              }
            });
          break;
        case "9":
          showElements(["serv_especiales"]);
          document.getElementById("button_submit").style.display = "block";
          break;
        case "10":
          showElements(["rescate"]);
          document.getElementById("button_submit").style.display = "none";

          document
            .getElementById("id_rescate_form-tipo_rescate")
            .addEventListener("change", function () {
              if (this.value == "1") {
                showElements(["rescate", "rescate_animal"]);
                document.getElementById("button_submit").style.display = "block";
              } else if (this.value == "2") {
                showElements(["rescate", "rescate_persona"]);
                document.getElementById("button_submit").style.display = "block";
              }
            });
          break;
        case "11":
          showElements(["incendio_form"]);
          document
            .getElementById("id_incendio_form-check_agregar_persona")
            .addEventListener("change", function () {
              document.getElementById("persona_presente").style.display = this
                .checked
                ? "block"
                : "none";
            });
          document
            .getElementById("id_incendio_form-check_agregar_vehiculo")
            .addEventListener("change", function () {
              document.getElementById("detalles_vehiculo").style.display = this
                .checked
                ? "block"
                : "none";
            });
            document.getElementById("button_submit").style.display = "block";
          break;
        case "12":
          showElements(["fallecidos"]);
          document.getElementById("button_submit").style.display = "block";
          break;
        case "13":
          showElements(["mitigacion_riesgo"]);
          document.getElementById("button_submit").style.display = "block";
          break;
        case "14":
          showElements(["evaluacion_riesgo"]);
          document.getElementById("button_submit").style.display = "block";
          
          query = document.getElementById("id_form1-opciones")
            if (query.value === "3"){
              showElements(["evaluacion_riesgo", "form_persona_presente"])
            }
          break;
        case "15":
          showElements(["puesto_avanzada"]);
          document.getElementById("button_submit").style.display = "block";
          break;
        case "16":
          showElements(["traslados_prehospitalaria"]);
          document.getElementById("button_submit").style.display = "block";
          break;
        case "17":
          showElements(["asesoramiento_form"]);
          document.getElementById("button_submit").style.display = "block";
          break;
        case "20":
          showElements(["reinspeccion_prevencion"]);
          document.getElementById("button_submit").style.display = "block";
          break;
        case "21":
          showElements(["retencion_preventiva"]);
          document.getElementById("button_submit").style.display = "block";
          break;
        default:
          elementsToHide.forEach(
            (id) => (document.getElementById(id).style.display = "none")
          );
          document.getElementById("button_submit").style.display = "none";
          break;
      }
    });
</script>

<!-- select input validation -->
<script>
  document
    .getElementById("id_form3-municipio")
    .addEventListener("change", function () {
      var select2 = document.getElementById("id_form3-parroquia");
      if (this.value != "1") {
        select2.disabled = true;
      } else {
        select2.disabled = false;
      }
    });
</script>
<!-- desactivar primera casilla de select -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const selects = document.querySelectorAll(".disable-first-option");
    selects.forEach((select) => {
      select.options[0].disabled = true;
    });
  });
</script>
{% if errors %}
<script>
  // Si Django envía la variable 'error', mostramos la ventana modal de error
  var errorModal = new bootstrap.Modal(
    document.getElementById("staticBackdrop")
  );
  errorModal.show();
</script>
{% endif %}
<!-- Incluye Bootstrap JS y dependencias -->
{% endblock %}
